$(function(){function a(a){var b=0;return $(a).each(function(){b+=$(this).outerWidth(!0)}),b}function b(b){var h,c=a($(b).prevAll()),d=a($(b).nextAll()),e=a($(".content-tabs").children().not(".J_menuTabs")),f=$(".content-tabs").outerWidth(!0)-e,g=0;if($(".page-tabs-content").outerWidth()<f)g=0;else if(d<=f-$(b).outerWidth(!0)-$(b).next().outerWidth(!0)){if(f-$(b).next().outerWidth(!0)>d)for(g=c,h=b;g-$(h).outerWidth()>$(".page-tabs-content").outerWidth()-f;)g-=$(h).prev().outerWidth(),h=$(h).prev()}else c>f-$(b).outerWidth(!0)-$(b).prev().outerWidth(!0)&&(g=c-$(b).prev().outerWidth(!0));$(".page-tabs-content").animate({marginLeft:0-g+"px"},"fast")}function c(){var f,g,b=Math.abs(parseInt($(".page-tabs-content").css("margin-left"))),c=a($(".content-tabs").children().not(".J_menuTabs")),d=$(".content-tabs").outerWidth(!0)-c,e=0;if($(".page-tabs-content").width()<d)return!1;for(f=$(".J_menuTab:first"),g=0;g+$(f).outerWidth(!0)<=b;)g+=$(f).outerWidth(!0),f=$(f).next();if(g=0,a($(f).prevAll())>d){for(;g+$(f).outerWidth(!0)<d&&f.length>0;)g+=$(f).outerWidth(!0),f=$(f).prev();e=a($(f).prevAll())}$(".page-tabs-content").animate({marginLeft:0-e+"px"},"fast")}function d(){var f,g,b=Math.abs(parseInt($(".page-tabs-content").css("margin-left"))),c=a($(".content-tabs").children().not(".J_menuTabs")),d=$(".content-tabs").outerWidth(!0)-c,e=0;if($(".page-tabs-content").width()<d)return!1;for(f=$(".J_menuTab:first"),g=0;g+$(f).outerWidth(!0)<=b;)g+=$(f).outerWidth(!0),f=$(f).next();for(g=0;g+$(f).outerWidth(!0)<d&&f.length>0;)g+=$(f).outerWidth(!0),f=$(f).next();e=a($(f).prevAll()),e>0&&$(".page-tabs-content").animate({marginLeft:0-e+"px"},"fast")}function e(){var f,g,a=$(this).attr("href"),c=$(this).data("index"),d=$.trim($(this).text()),e=!0;return void 0==a||0==$.trim(a).length?!1:($(".J_menuTab").each(function(){return $(this).data("id")==a?($(this).hasClass("active")||($(this).addClass("active").siblings(".J_menuTab").removeClass("active"),b(this),$(".J_mainContent .J_iframe").each(function(){return $(this).data("id")==a?($(this).show().siblings(".J_iframe").hide(),!1):void 0})),e=!1,!1):void 0}),e&&(f='<a href="javascript:;" class="active J_menuTab" data-id="'+a+'">'+d+' <i class="fa fa-times-circle"></i></a>',$(".J_menuTab").removeClass("active"),g='<iframe class="J_iframe" name="iframe'+c+'" width="100%" height="100%" src="'+a+'" frameborder="0" data-id="'+a+'" seamless></iframe>',$(".J_mainContent").find("iframe.J_iframe").hide().parents(".J_mainContent").append(g),$(".J_menuTabs .page-tabs-content").append(f),b($(".J_menuTab.active"))),!1)}function f(){var d,e,a=$(this).parents(".J_menuTab").data("id"),c=$(this).parents(".J_menuTab").width();return $(this).parents(".J_menuTab").hasClass("active")?($(this).parents(".J_menuTab").next(".J_menuTab").size()&&(d=$(this).parents(".J_menuTab").next(".J_menuTab:eq(0)").data("id"),$(this).parents(".J_menuTab").next(".J_menuTab:eq(0)").addClass("active"),$(".J_mainContent .J_iframe").each(function(){return $(this).data("id")==d?($(this).show().siblings(".J_iframe").hide(),!1):void 0}),e=parseInt($(".page-tabs-content").css("margin-left")),0>e&&$(".page-tabs-content").animate({marginLeft:e+c+"px"},"fast"),$(this).parents(".J_menuTab").remove(),$(".J_mainContent .J_iframe").each(function(){return $(this).data("id")==a?($(this).remove(),!1):void 0})),$(this).parents(".J_menuTab").prev(".J_menuTab").size()&&(d=$(this).parents(".J_menuTab").prev(".J_menuTab:last").data("id"),$(this).parents(".J_menuTab").prev(".J_menuTab:last").addClass("active"),$(".J_mainContent .J_iframe").each(function(){return $(this).data("id")==d?($(this).show().siblings(".J_iframe").hide(),!1):void 0}),$(this).parents(".J_menuTab").remove(),$(".J_mainContent .J_iframe").each(function(){return $(this).data("id")==a?($(this).remove(),!1):void 0}))):($(this).parents(".J_menuTab").remove(),$(".J_mainContent .J_iframe").each(function(){return $(this).data("id")==a?($(this).remove(),!1):void 0}),b($(".J_menuTab.active"))),!1}function g(){$(".page-tabs-content").children("[data-id]").not(":first").not(".active").each(function(){$('.J_iframe[data-id="'+$(this).data("id")+'"]').remove(),$(this).remove()}),$(".page-tabs-content").css("margin-left","0")}function h(){b($(".J_menuTab.active"))}function i(){if(!$(this).hasClass("active")){var a=$(this).data("id");$(".J_mainContent .J_iframe").each(function(){return $(this).data("id")==a?($(this).show().siblings(".J_iframe").hide(),!1):void 0}),$(this).addClass("active").siblings(".J_menuTab").removeClass("active"),b(this)}}function j(){var a=$('.J_iframe[data-id="'+$(this).data("id")+'"]');a.attr("src")}$(".J_menuItem").each(function(a){$(this).attr("data-index")||$(this).attr("data-index",a)}),$(".J_menuItem").on("click",e),$(".J_menuTabs").on("click",".J_menuTab i",f),$(".J_tabCloseOther").on("click",g),$(".J_tabShowActive").on("click",h),$(".J_menuTabs").on("click",".J_menuTab",i),$(".J_menuTabs").on("dblclick",".J_menuTab",j),$(".J_tabLeft").on("click",c),$(".J_tabRight").on("click",d),$(".J_tabCloseAll").on("click",function(){$(".page-tabs-content").children("[data-id]").not(":first").each(function(){$('.J_iframe[data-id="'+$(this).data("id")+'"]').remove(),$(this).remove()}),$(".page-tabs-content").children("[data-id]:first").each(function(){$('.J_iframe[data-id="'+$(this).data("id")+'"]').show(),$(this).addClass("active")}),$(".page-tabs-content").css("margin-left","0")}),$(".J_tabGo").on("click",function(){$(".J_mainContent .J_iframe").each(function(){"inline"==$(this).css("display")&&$(this)[0].contentWindow.history.forward()})}),$(".J_tabBack").on("click",function(){$(".J_mainContent .J_iframe").each(function(){"inline"==$(this).css("display")&&$(this)[0].contentWindow.history.back()})}),$(".J_tabFresh").on("click",function(){$(".J_mainContent .J_iframe").each(function(){"inline"==$(this).css("display")&&$(this)[0].contentWindow.location.reload()})})});